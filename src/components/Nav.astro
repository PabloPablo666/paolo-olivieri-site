---
const here = Astro.url.pathname;

const links = [
  { href: "/", label: "Home" },
  { href: "/projects", label: "Projects" },
  { href: "/pitchlab-mk2", label: "PitchLab MK2" },
  { href: "/mastering-lite", label: "Audio Bench" },
  { href: "/discogs-data-lake", label: "Discogs Lakehouse" },
  { href: "/esp32-offline-chat", label: "ESP32 Offline Chat" },
  { href: "https://github.com/PabloPablo666", label: "GitHub", external: true },
  { href: "/games", label: "Games" },
  { href: "/about", label: "About" }
];
---

<nav class="nav small" aria-label="Main navigation">
  {links.map((l) => (
    <a
      href={l.href}
      class={(!l.external && here === l.href) ? "current" : undefined}
      aria-current={(!l.external && here === l.href) ? "page" : undefined}
      target={l.external ? "_blank" : undefined}
      rel={l.external ? "noopener noreferrer" : undefined}
    >
      {l.label}
    </a>
  ))}
</nav>

<style>
.nav {
  margin-top: 10px;
  display: flex;
  flex-wrap: wrap;     /* pu√≤ andare a capo */
  gap: 12px 18px;      /* riga / colonna */
  max-width: 100%;
}

.nav a {
  white-space: nowrap;
}

.nav a.current {
  text-decoration: underline;
}
</style>
