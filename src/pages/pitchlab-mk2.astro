---
import Base from "../layouts/Base.astro";

const chromeStore =
  "https://chromewebstore.google.com/detail/%E2%97%86-pitchlab-mk2-%E2%80%94-virtual/achkpjadifhgadgojjiinmcebegneajd";
---

<Base
  title="PitchLab MK2 · Chrome Extension"
  description="Chrome extension that turns web audio players into a reference deck for DJs and crate diggers."
>
  <h1>PitchLab MK2</h1>

  <p class="muted">
    A <strong>Chrome extension</strong> that turns any web audio player
    into a reference deck for DJs and crate diggers.
  </p>

  <div class="card">
    <p>
      No time-stretching. No key lock.
      Playback behaves like a physical system, not like a DAW.
    </p>

    <p class="muted">
      Designed for listening and verification, not performance.
    </p>

    <div style="margin-top:14px">
      <a class="btn" href={chromeStore} target="_blank" rel="noopener noreferrer">
        Chrome Web Store
      </a>
    </div>
  </div>

  <h2>What it is</h2>
  <div class="card">
    <p>
      PitchLab MK2 is a browser extension that intercepts web audio playback
      (YouTube, Bandcamp, embedded players) and routes it through a local
      reference engine.
    </p>

    <p class="muted">
      It is not a DJ app, not a DAW, and not a beatgrid tool.
      It is a reference environment: change rate and you hear the consequences.
    </p>
  </div>

  <h2>Playback engine</h2>
  <div class="card">
    <ul>
      <li>Direct rate control via <code>HTMLMediaElement.playbackRate</code></li>
      <li>Browser pitch-preserve flags explicitly disabled</li>
      <li>No phase vocoder or time-stretch layer</li>
    </ul>
  </div>

  <h2>Live BPM analysis</h2>
  <div class="card">
    <p>
      Real-time BPM estimation derived from the audio signal itself
      (envelope extraction + autocorrelation).
    </p>

    <ul>
      <li>Signal-derived BPM (when accessible)</li>
      <li>Confidence scoring</li>
      <li>Half-time / double-time correction</li>
      <li>Stabilisation to reduce jitter</li>
    </ul>

    <div class="hr" style="margin:16px 0;"></div>

    <p><strong>Manual BPM tools</strong></p>
    <ul>
      <li>Manual base BPM input</li>
      <li>Tap BPM with hysteresis</li>
      <li>Context-aware reset logic</li>
    </ul>
  </div>

  <h2>Mixer & filters</h2>
  <div class="card">
    <p>
      A local Web Audio graph is built on top of the page media.
      Nothing is uploaded. Nothing leaves the browser.
    </p>

    <ul>
      <li>Pre-analysis gain stage</li>
      <li>High-pass and low-pass filters</li>
      <li>Stereo-safe routing</li>
    </ul>
  </div>

  <h2>Metering</h2>
  <div class="card">
    <ul>
      <li>Dual-channel (L/R) analysis</li>
      <li>Peak dBFS and RMS-derived VU</li>
      <li>Hardware-inspired ballistics</li>
    </ul>

    <p class="muted">
      Measurement, not decoration.
    </p>
  </div>

  <h2>What it is not</h2>
  <div class="card">
    <ul>
      <li>❌ Time-stretching engine</li>
      <li>❌ Key-lock tool</li>
      <li>❌ Beat-gridding system</li>
      <li>❌ DJ performance app</li>
    </ul>
  </div>
</Base>
